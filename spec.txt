next.js로 모바일웹 프로그램을 만든다.
프로그램은 식당의 메뉴을 주문예약하고 선결제내역을 관리하는 프로그램이다.
Firebase의 Realtime Database와 Authentication을 이용한다.
기본 디자인은 MUI를 적용하되 깔끔하게 나타낸다.

* Firebase 서비스를 이용하기 위한 정보
FIREBASE_AUTH_DOMAIN="my-firebase-9450e.firebaseapp.com"
FIREBASE_API_KEY="AIzaSyAjcEIdV46fa6Kw3Hdyzf3No_3cXtScRLc"
FIREBASE_DATABASE_URL="https://my-firebase-9450e-default-rtdb.asia-southeast1.firebasedatabase.app"
FIREBASE_PROJECT_ID="my-firebase-9450e"
FIREBASE_STORAGE_BUCKET="my-firebase-9450e.firebasestorage.app"
FIREBASE_MESSAGING_SENDER_ID="1025301057295"
FIREBASE_APP_ID="1:1025301057295:web:18d2432b1614cc70e5387a"
FIREBASE_MEASUREMENT_ID="G-SGD1NQERQJ"

이미지 첨부기능을 위해 Cloudinary이용한다.
* Cloudinary 서비스를 이용하기 위한 정보
CLOUDINARY_CLOUD_NAME=da5h7wjxc
CLOUDINARY_UPLOAD_PRESET=images

Firebase, Cludinary 서비스를 이용하기 위한 정보는 env파일로 관리한다.

초기 페이지는 "포장예약" 페이지 이다.
초기 페이지가 오픈시 Authentication의 로그인 여부를 체크한다.
만약 로그인이 되어 있지 않다면 Authentication의 로그인 페이지로 전환된다.

* 로그인 페이지
eMail, Password를 입력받아 로그인을 하며 회원가입을 할 수 있는 링크도 제공한다.
로그인 버튼 아래 sendPasswordResetEmail를 이용한 메일 분실에 대한 링크 추가
로그인을 하면 로그인이 되지 않아 전환된 이전 페이지로 돌아간다.

* 회원가입 페이지
이름, eMail, Password를 입력을 받으며 Authentication에서 제공하는 createUserWithEmailAndPassword를 이용하여 신규 유저 정보를 등록한다.
이때 Realtime Database에 추가로 회원정보를 저장한다.
저장경로
"user" : { [사용자UID]: {
    "email":[email],
    "name":[name]
    }
}

Realtime Database에서 restaurant 데이터를 조회하여 출력한다.
출력 양식
식당 : name
전화 : telNo (mdi-phone 아이콘으로 표시하고 tel: 링크를 이용하여 모바일에서 클릭시 바로 전화앱으로 전환될 수 있도록 한다.)
     
----------------------------------------

화면 상단에 타이틀은 "포장 예약"으로 표기한다.

Realtime Database에서 restaurant 데이터를 조회하여 출력한다.
정보위치
food-resv/restaurant
출력 양식
식당 : name
전화 : telNo (mdi-phone 아이콘으로 표시하고 tel: 링크를 이용하여 모바일에서 클릭시 바로 전화앱으로 전환될 수 있도록 한다.)


-----------------------------------------

* 메인화면
타이블은 배경색을 다르게 표시하고 "포장 예약"은 좌측으로 정렬하고 타이틀의 우측에는 mdi-dots-vertical 아이콘을 추가한다.

* reservation테이블
"reservation" :{
  [사용자UID]: {
    [restaurant key]: {
      [예약일(yyyyMMdd의 문자값)]: {
        "isReceipt": [수령여부 (true/false)],
        "menus" :[
         {
            "cost": [금액],
            "menu": [메뉴명]
         }
        ]
      }
    }
  }     
}

조회 컬럼
** 식당 ** : name
** 예약메뉴 ** : 
restaurant의 key값으로 food-resv/reservation/[사용자UID]에서 동일한 restaurant key에 해당하는 menus를 조회하여 나타낸다.
여러건의 data중 에약일이 가장 큰 데이터만 조회하여 나타낸다. 
isReceipt가 false이면 검정색, true이면 회색으로 출력한다.
menus에 menu가 여러건일 경우 "+"로 붙여서 나타낸다.
** 전화 ** : telNo (mdi-phone 아이콘으로 표시한다. 전화번호는 출력하지 않는다. tel: 링크를 이용하여 모바일에서 클릭시 바로 전화앱으로 전환될 수 있도록 한다.)

조회시 식당별로 예약일 내림차순 정렬하여 나타낸다.
만약 예약일이 없으면 가장 아래로 정렬한다.

-----------------------

* 메인화면
테이블 형식으로 출력한다.
컬럼은 "식당", "예약메뉴", "전화" 이고 식당별로 1 row로 출력한다. 전화에는 글자없이 전화 아이콘만으로 나타낸다.

----------------------

* restaurant 테이블
"restaurant" : {
    [restaurant key] : {
        "kind":[식당종류],
        "menuImgId":[메뉴 이미지 url],
        "menuUrl":[메뉴 페이지 url],
        "name": [식당명],
        "telNo": [전화번호]
    }
}

식당을 클릭시 식당의 상세 내용이 팝업창으로 오픈된다.
* 식당 상세 팝업창
- 팝업창 상단 좌측에 선택한 식당명이 나타난다.
- 팝업창 상단 우측에 메뉴아이콘은 menuImgId 또는 menuUrl이 존재시 나타낸다.
- 예약일 : yyyy.MM.dd 형식으로 나타낸다.
- 예약메뉴를 테이블 형식으로 나타난다.
  컬럼 : 메뉴, 가격
- 화면 하단에는 다음 의미를 가지는 아이콘을 추가한다.
  공유, 수령, 저장, 삭제, 닫기

----------------------------------------------------
* 식당 상세 팝업창
- 팝업창이 열릴때 테이블 데이터는 수령여부가 false인 메뉴만 나타난다.
- 수령여부가 false인 메뉴가 없다면 예약일은 오늘에서 가장 가까이 다가올 금요일로 자동 지정한다.
- 수령여부가 false인 메뉴가 없다면 메뉴와 금액을 입력받을 수 있도록 빈 row가 나타난다.
- 예약일, 메뉴, 금액은 수정이 가능하다.
- 하단버튼에 "추가" 아이콘을 추가한다. (공유, 수령, 저장, 추가, 삭제, 닫기)
- 추가 버튼을 누르면 테이블에 빈 행을 하나 추가한다.
- row의 가장 오른쪽에는 지우개 아이콘을 추가하고 아이콘을 누르면 해당 행이 삭제되도록 한다.
- 하나의 행만 남은 상태에서 지우개 아이콘을 누르면 행은 유지하고 메뉴와 금액만 빈값으로 만든다.
- 저장버튼을 누르면 reservation에 저장한다.
- 삭제버튼을 누르면 삭제여부를 물어보고 동의시 예약정보를 삭제한다.

-------------------------------------
* 식당 상세 팝업창

갤럭시 울트라 24 모델을 사용하고 있다.
모바일에서 조회를 하는데 식당 상세 팝업창 내용들이 잘려서 나타나지 않는다.
여백과 간격을 조정하여 모바일에서 팝업창이 잘 나타나도록 함.


* 식당 상세 팝업창
예약일을 클릭시 달력 컴포넌트로 날짜를 지정할 수 있도록 한다.

* 식당 상세 팝업창
- 공유 버튼 클릭시

━━━━━━━━━
■ 메뉴 : [menu (여러행일 경우 +로 붙임)]
■ 가격 : [금액의 합계]
■ 예약일 : [예약일]
━━━━━━━━━━

□ 선결제
11.5 
──────────

navigator.share