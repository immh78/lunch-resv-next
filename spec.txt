next.js로 모바일웹 프로그램을 만든다.
프로그램은 식당의 메뉴을 주문예약하고 선결제내역을 관리하는 프로그램이다.
Firebase의 Realtime Database와 Authentication을 이용한다.
기본 디자인은 MUI를 적용하되 깔끔하게 나타낸다.

* Firebase 서비스를 이용하기 위한 정보
FIREBASE_AUTH_DOMAIN="my-firebase-9450e.firebaseapp.com"
FIREBASE_API_KEY="AIzaSyAjcEIdV46fa6Kw3Hdyzf3No_3cXtScRLc"
FIREBASE_DATABASE_URL="https://my-firebase-9450e-default-rtdb.asia-southeast1.firebasedatabase.app"
FIREBASE_PROJECT_ID="my-firebase-9450e"
FIREBASE_STORAGE_BUCKET="my-firebase-9450e.firebasestorage.app"
FIREBASE_MESSAGING_SENDER_ID="1025301057295"
FIREBASE_APP_ID="1:1025301057295:web:18d2432b1614cc70e5387a"
FIREBASE_MEASUREMENT_ID="G-SGD1NQERQJ"

이미지 첨부기능을 위해 Cloudinary이용한다.
* Cloudinary 서비스를 이용하기 위한 정보
CLOUDINARY_CLOUD_NAME=da5h7wjxc
CLOUDINARY_UPLOAD_PRESET=images

Firebase, Cludinary 서비스를 이용하기 위한 정보는 env파일로 관리한다.

초기 페이지는 "포장예약" 페이지 이다.
초기 페이지가 오픈시 Authentication의 로그인 여부를 체크한다.
만약 로그인이 되어 있지 않다면 Authentication의 로그인 페이지로 전환된다.

* 로그인 페이지
eMail, Password를 입력받아 로그인을 하며 회원가입을 할 수 있는 링크도 제공한다.
로그인 버튼 아래 sendPasswordResetEmail를 이용한 메일 분실에 대한 링크 추가
로그인을 하면 로그인이 되지 않아 전환된 이전 페이지로 돌아간다.

* 회원가입 페이지
이름, eMail, Password를 입력을 받으며 Authentication에서 제공하는 createUserWithEmailAndPassword를 이용하여 신규 유저 정보를 등록한다.
이때 Realtime Database에 추가로 회원정보를 저장한다.
저장경로
"user" : { [사용자UID]: {
    "email":[email],
    "name":[name]
    }
}

Realtime Database에서 restaurant 데이터를 조회하여 출력한다.
출력 양식
식당 : name
전화 : telNo (mdi-phone 아이콘으로 표시하고 tel: 링크를 이용하여 모바일에서 클릭시 바로 전화앱으로 전환될 수 있도록 한다.)
     
----------------------------------------

화면 상단에 타이틀은 "포장 예약"으로 표기한다.

Realtime Database에서 restaurant 데이터를 조회하여 출력한다.
정보위치
food-resv/restaurant
출력 양식
식당 : name
전화 : telNo (mdi-phone 아이콘으로 표시하고 tel: 링크를 이용하여 모바일에서 클릭시 바로 전화앱으로 전환될 수 있도록 한다.)


-----------------------------------------

* 메인화면
타이블은 배경색을 다르게 표시하고 "포장 예약"은 좌측으로 정렬하고 타이틀의 우측에는 mdi-dots-vertical 아이콘을 추가한다.

* reservation테이블
"reservation" :{
  [사용자UID]: {
    [restaurant key]: {
      [예약일(yyyyMMdd의 문자값)]: {
        "isReceipt": [수령여부 (true/false)],
        "menus" :[
         {
            "cost": [금액],
            "menu": [메뉴명]
         }
        ]
      }
    }
  }     
}

조회 컬럼
** 식당 ** : name
** 예약메뉴 ** : 
restaurant의 key값으로 food-resv/reservation/[사용자UID]에서 동일한 restaurant key에 해당하는 menus를 조회하여 나타낸다.
여러건의 data중 에약일이 가장 큰 데이터만 조회하여 나타낸다. 
isReceipt가 false이면 검정색, true이면 회색으로 출력한다.
menus에 menu가 여러건일 경우 "+"로 붙여서 나타낸다.
** 전화 ** : telNo (mdi-phone 아이콘으로 표시한다. 전화번호는 출력하지 않는다. tel: 링크를 이용하여 모바일에서 클릭시 바로 전화앱으로 전환될 수 있도록 한다.)

조회시 식당별로 예약일 내림차순 정렬하여 나타낸다.
만약 예약일이 없으면 가장 아래로 정렬한다.

-----------------------

* 메인화면
테이블 형식으로 출력한다.
컬럼은 "식당", "예약메뉴", "전화" 이고 식당별로 1 row로 출력한다. 전화에는 글자없이 전화 아이콘만으로 나타낸다.

----------------------

* restaurant 테이블
"restaurant" : {
    [restaurant key] : {
        "kind":[식당종류],
        "menuImgId":[메뉴 이미지 url],
        "menuUrl":[메뉴 페이지 url],
        "name": [식당명],
        "telNo": [전화번호]
    }
}

식당을 클릭시 식당의 상세 내용이 팝업창으로 오픈된다.
* 식당 상세 팝업창
- 팝업창 상단 좌측에 선택한 식당명이 나타난다.
- 팝업창 상단 우측에 메뉴아이콘은 menuImgId 또는 menuUrl이 존재시 나타낸다.
- 예약일 : yyyy.MM.dd 형식으로 나타낸다.
- 예약메뉴를 테이블 형식으로 나타난다.
  컬럼 : 메뉴, 가격
- 화면 하단에는 다음 의미를 가지는 아이콘을 추가한다.
  공유, 수령, 저장, 삭제, 닫기

----------------------------------------------------
* 식당 상세 팝업창
- 팝업창이 열릴때 테이블 데이터는 수령여부가 false인 메뉴만 나타난다.
- 수령여부가 false인 메뉴가 없다면 예약일은 오늘에서 가장 가까이 다가올 금요일로 자동 지정한다.
- 수령여부가 false인 메뉴가 없다면 메뉴와 금액을 입력받을 수 있도록 빈 row가 나타난다.
- 예약일, 메뉴, 금액은 수정이 가능하다.
- 하단버튼에 "추가" 아이콘을 추가한다. (공유, 수령, 저장, 추가, 삭제, 닫기)
- 추가 버튼을 누르면 테이블에 빈 행을 하나 추가한다.
- row의 가장 오른쪽에는 지우개 아이콘을 추가하고 아이콘을 누르면 해당 행이 삭제되도록 한다.
- 하나의 행만 남은 상태에서 지우개 아이콘을 누르면 행은 유지하고 메뉴와 금액만 빈값으로 만든다.
- 저장버튼을 누르면 reservation에 저장한다.
- 삭제버튼을 누르면 삭제여부를 물어보고 동의시 예약정보를 삭제한다.

-------------------------------------
* 식당 상세 팝업창

갤럭시 울트라 24 모델을 사용하고 있다.
모바일에서 조회를 하는데 식당 상세 팝업창 내용들이 잘려서 나타나지 않는다.
여백과 간격을 조정하여 모바일에서 팝업창이 잘 나타나도록 함.


* 식당 상세 팝업창
예약일을 클릭시 달력 컴포넌트로 날짜를 지정할 수 있도록 한다.

* 식당 상세 팝업창
- 공유 버튼 클릭시

━━━━━━━━━
■ 메뉴 : [menu (여러행일 경우 +로 붙임)]
■ 가격 : [금액의 합계]
■ 예약일 : [예약일]
━━━━━━━━━━

□ 선결제
11.5 
──────────

navigator.share



-------------------------------
* 식당 상세 팝업창

* prepayment 테이블
"prepayment" : {
    [사용자UID] : {
        [restaurant key] : [
            {
                "amount":[금액(number)],
                "date":[날짜(string, yyyyMMdd)]
            }
        ]        
    }
}

타이틀과 하단 버튼을 제외한 영역은 두개의 탭으로 구성한다.
탭 : 메뉴, 선결제

[메뉴(지금 만들어져 있는 팝업창 내용)]
예약일
메뉴, 가격

[선결제]
사용자UID, restaurant key로 조회하여 테이블로 구성
칼럼 : 날짜, 금액
- 선결제 데이터가 없는 경우 한행이 기본으로 추가되어 있고 날짜는 오늘로 지정된다.
- 추가 버튼을 누르면 테이블에 빈 행을 하나 추가한다. 날짜는 오늘날짜로 자동 지정된다.
- 날짜는 날짜 컴포넌트로 지정한다.
- 날짜가 컴포넌트의 달력 아이콘에 가려서 날짜가 잘려보이지 않도록 하되 너무 여유를 두어 공백이 많지 않게 한다.
- row의 가장 오른쪽에는 지우개 아이콘을 추가하고 아이콘을 누르면 해당 행이 삭제되도록 한다.
- 하나의 행만 남은 상태에서 지우개 아이콘을 누르면 행은 유지하고 날짜는 오늘, 금액은 빈값으로 한다.
- 저장버튼을 누르면 prepayment 저장한다.
- 삭제버튼을 누르면 삭제여부를 물어보고 동의시 사용자UID, restaurant key의 선결제를 삭제한다.
- 테이블에 횡 스크롤이 생기지 않도록 넓이를 줄여서 조정한다.

------------------------------------------

* 메인화면
메인 화면 디자인을 https://github.com/immh78/lunch-reservation/blob/main/src/pages/Main.vue 페이지와 유사하게 변경

------------------------------------------
* 메인화면
식당의 아이콘을 제거하여 표시되는 영역을 넓힌다.
식당은 isReceipt가 false일 경우 다른 배경색과 글자색을 역으로 나타낸다.
isReceipt가 ture인 식당의 메뉴는 회색보다 더 연한 색으로 보일듯 말듯하게 처리한다.
isReceipt가 false일때 금액의 합보다 선결제금액의 합이 같거나 많으면 파란색, 선결제 금액이 0원이면 빨간색, 그외는 주황색으로 나타낸다. 그 아래줄에 금액합 - 선결제금액합을 "()"로 쌓어 나타낸다.
예약메뉴컬럼에서 날짜는 제거한다.

메인화면과 상세 팝업화면의 전체적인 디자인(폰트, 아이콘 포함)은 lieaner.app과 동일하게 함.

메인화면과 상세 팝업화면의 라운딩이 너무 크다. 모서리에 매우 작게 라운딩 처리
isReceipt가 false인 경우 row의 배경은 반전처리 하지 않고 식당 글자만 다른 색에 굵음으로 나타난다.
식당 상세 팝업창내 아이콘들을 Lieaner.app에서 사용하는 스타일로 변경
--------------------------------------------

* 메인화면
식당은 좌측정렬
예약메뉴에 금액합계와 잔여금액은 같은 행으로 출력
갤럭시 울트라 S24 사이즈(411x891)에 맞추면 테이블 타이틀중 전화가 두행으로 나타난다. 한행으로 나타나도록 고정
메인 화면 가장 외곽선 테투리는 외곽선 처리를 하지 않는다. 전체 화면으로 나타나도록 함.

*식당 상세 팝업창
메뉴와 선결제 탭의 폰트 크기를 일치화 환다.
선결제탭에 날짜가 달력 아이콘으로 가려져 잘린다. 잘리지 않고 다 출력 되도록 한다.

하단 버튼은 탭 변경에 따라 사라지지 않는다.
공유와 수령버튼의 기능은 두탭모두 동일한 기능으로 처리할 예정이다.

-----------------------------------------
* 식당 상세 팝업창
- 공유 버튼 클릭시
- navigator.share를 이용하여 전송 포멧 내용을 공유한다.
- 전송 포멧
━━━━━━━━━
■ 메뉴 : {menu (여러행일 경우 +로 붙임)}
■ 가격 : {금액의 합계}
■ 예약일 : {예약일}
━━━━━━━━━━

□ 선결제
{날짜 11.5(수) 포멧으로 출력} {금액}
{날짜 11.7(금) 포멧으로 출력} {금액}
──────────
합계 {선결제 금액 합계}


- 공유 버튼 클릭시
포멧 가장 위에 있는 "{식당} 예약정보 -"를 제거
━━━━━━━━━ 부터 내용이 시작됨.
가격, 금액,합계 뒤에는 "원"을 붙인다.
예약일 포멧은 "11.7 (금)"으로 나타낸다.


* 식당 상세 팝업창
- 모바일에서 사용할 페이지이다. Edge브라우저 width로 폭이 380이다. 고려하여 디자인 함.
- 팝업창 좌우 여백을 최소화 하여 보여지는 내용이 잘리지 않도록 한다.
- 날짜, 메뉴, 금액, 가격의 폰트 크기를 동일하게 한다.
- 선결제텝에 날짜가 잘려서 보이지 않고 있다. 보일 수 있도록 한다.
- 행상제 아이콘은 테이블의 가장 우측에 여백없이 위치하도록 한다.

아이콘 변경
- "닫기"의 아이콘 : MUI ExitToApp
- 행삭제 아이콘 : MUI Clear (빨간색)
- 행추가 아이콘 : MUI AddCircle


* 식당 상세 팝업창
- "수령" 버튼 클릭시 isReceipt를 true로 변경. {사용자UDI}, {restaurant key}에 대당하는 prepayment를 모두 삭제처리 한다.
- 예약일, 날짜의 폰트크기가 메뉴, 가격, 금액보다 크다. 동일하게 변경한다.
- 테이블에 제브라 배경색을 제거한다.
- 상단 식당 이름옆에 연필 아이콘을 추가한다.
- 연필 아이콘 클릭시 restaurant 수정 팝업창이 오픈된다.
-------------------------------------

* 메인화면
- reservation이 존재하지 않는 식당은 isReceipt가 ture와 같게 출력
- 메인메뉴 우측 상단 ... 아이콘을 누른후 식당 등록을 클릭시 [식당등록]으로 팝업창 오픈

* 식당 상세 팝업창
- 연필아이콘 클릭시 [식당수정]으로 팝업창 오픈

* restaurant 테이블
"restaurant" : {
    [restaurant key] : {
        "kind":[식당종류],
        "menuImgId":[메뉴 이미지 url],
        "menuUrl":[메뉴 페이지 url],
        "name": [식당명],
        "telNo": [전화번호],
        "naviUrl": [식당위치]
    }
}

* 식당 등록/수정 팝업창
[식당등록]
- Title : 식당 등록
- 입력 속성
식당 ID : restaurant key
식당명 : menuImgId
종류 : kind
전화번호 : telNo
메뉴 URL : menuUrl
메뉴 이미지 ID : menuImgId
식당위치 : naviUrl


[식당수정]
- Title : restaurant key
- 수정 속성
식당명 : menuImgId
종류 : kind
전화번호 : telNo
메뉴 URL : menuUrl
메뉴 이미지 ID : menuImgId
식당위치 : naviUrl

--------------------------------
* 식당 등록/수정 팝업창
"메뉴 이미지 ID" 입력란 우측에 카메라 아이콘 추가.
카메라 아이콘 클릭시 vue.js로 구현된 아래 코드를 참고하여 next.js로 구현함.

const cloudName = {NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME}
const uploadPreset = {NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET}
const cld = new Cloudinary({ cloud: { cloudName } });

  widget = window.cloudinary?.createUploadWidget(
    {
      cloudName: props.cloudName,
      uploadPreset: props.uploadPreset,
      sources: ['local', 'url', 'camera'],
      multiple: false,
      folder: 'images',
      maxFileSize: 5_000_000,
      cropping: false,
      clientAllowedFormats: ['jpg', 'jpeg', 'png', 'webp'],
      showAdvancedOptions: false,
      showPoweredBy: false,
      styles: { palette: { windowBorder: '#ddd' } }
    },
    (error, result) => {
      if (!error && result && result.event === 'success') {
        const info = result.info
        lastPublicId.value = info.public_id
        local.value.menuImgId = lastPublicId.value
      } else if (result && result.event === 'close') {
        lastPublicId.value = ''
      } else if (error) {
        lastPublicId.value = ''
      }
    }
  )

lastPublicId.value는 menuImgId로 저장하여 이미지 조회시 활용할 수 있도록 한다.

-------------------------------------

* 메인화면
- 예약메뉴의 금액합계, 잔여금액이 굵은 폰트로 표시되고 있음. 일반 폰트로 변경.

* 식당 등록/수정 팝업창
- 저장 버튼 클릭시 아래 정보를 restaurant에 조회하고 저장한다. 
- 일부 속성이 조회/저장이 안됨. 

식당 ID : restaurant key
식당명 : menuImgId
종류 : kind
전화번호 : telNo
메뉴 URL : menuUrl
메뉴 이미지 ID : menuImgId
식당위치 : naviUrl

* restaurant 테이블
"restaurant" : {
    [restaurant key] : {
        "kind":[식당종류],
        "menuImgId":[메뉴 이미지 url],
        "menuUrl":[메뉴 페이지 url],
        "name": [식당명],
        "telNo": [전화번호],
        "naviUrl": [식당위치]
    }
}


-------------------------------------
* 식당 등록/수정 팝업창
- 카메라 아이콘을 눌러 Cloudinary를 통해 사진 첨부후 menuImgId를 입력받았다. 저장시 반영이 안됨.
- 값을 수정/저장한 후 다시 수정 버튼을 눌러 들어와보면 저장한 값으로 반영이 안되어 있음.
- 모바일에서 값을 수정하면 한글자 입력후 포커스를 잃어버려 입력이 불가함.

---------------------------------------
* 메인화면
- "네비" 컬럼을 추가한다.
  식당 속성에 naviUrl값이 존재시 네비 아이콘이 나타나도록 하며 네비 아이콘 클릭시 naviUrl로 페이지를 전환한다.

* 식당 등록/수정 팝업창
- 저장후 화면전환이 제대로 되지 않고 반투명한 검정색 화면 상태로 변한다.

--------------------------------------------------------
# Purpose
Next.js + Material UI를 사용해 영어 단어장 페이지를 만든다.

# Features
- 상단 AppBar에는 "영어 단어장" 제목 표시.
- 중앙에는 단어 입력 필드와 "검색" 버튼.
- 검색 시 /api/words 엔드포인트에서 단어를 찾아 결과를 표시.
- 단어를 못 찾으면 경고 메시지를 보여줌.

# Input
단어 입력 (예: "apple")

# Output
단어 뜻 (예: "사과")

# Constraints
- React + TypeScript 사용
- API 호출은 axios 사용
- 스타일은 MUI 컴포넌트로 구성

--------------------------------------------------------

# Purpose
식당 저장 오류 해결

# Features
- 메인화면에서 식당 등록을 통해 저장시에는 정상적으로 잘 처리 된다.
  하지만 식당 상세 팝업창에서 연필 아이콘을 눌러 식당을 수정한 후 저장시 식당 상세 팝업창이 아닌 흐림 바탕상태로 전환된다.
  식당 상세 팝업창에서 연필 아이콘을 눌러 식당을 수정한 후 저장시 식당 상세 팝업창으로 전환될 수 있도록 함.

# Purpose
메인화면 타이블 개선

# Features
- "포장 예약" 후측에 실버색으로 isReceipt가 false인 금액을 모두 합하여 보여준다.
   양식 예: 25,000원
- 우측 ... 메뉴에 "예약 관리" 항목 제거하여

# Purpose
메인화면 테이블 디자인 개선

# Features
- 전화, 네비의 테이블 헤더를 합쳐서 전화/네이로 나타내고 각각 아이콘의 간격을 최소화한다.
 

# Purpose
식당 상세 팝업창 메뉴조회 기능 개선

# Features
- 상단 우측에 메뉴아이콘을 클릭시 menuUrl과 menuImgId가 존재시 이미지 url을 오픈한다. 
  둘다 존재하는 경우 menuImgId를 우선 적용한다.
  . menuImgId 존재시
    const url = cld.image(menuImgId).format('auto').quality('auto').toURL()
    window.open(url, '_blank', 'noopener')
  . menuUrl 존재시  
    window.open(menuUrl, '_blank', 'noopener')

 
# Purpose
전체적인 디자인을 세부적으로 조정 

# Features
- [메인화면] 타이틀에 아이콘과 "포장 예약" 글자 간격을 좁힌다.
- [메인화면] 타이틀과 본문을 구분짓는 선을 매우 얇은 실선으로 처리
- [메인화면] 목록 테이블 세로선은 보이지 않게 처리
- [메인화면] 목록 테이블 타이틀의 바탕은 rgb(246,246,246), 타이틀 상하에 외각선은 rgb(220,220,220)으로 처리
- [메인화면] 목록 테이블 리스트 바탕은 흰색으로 처리하며 가로선도 제거한다.
- [메인화면] 목록 테이블의 윗 여백을 최소화 한다. , 좌우 여백은 없앤다.
- [메인화면] 목록 테이블 식당은 MUI Button Componant으로 처리. Size는 Small, variant는 outlined으로 한다.
- [메인화면] 목록 테이블 예약메뉴는 메뉴와 잔여금액만 나타낸다. 잔여금액에 따른 글자 컬러링은 메뉴에만 작용하고 잔여금액은 회색으로 출력

[메인화면] 목록 테이블 예약메뉴는 메뉴와 잔여금액만 나타낸다. 잔여금액은 메뉴 아래 행으로 출력. 잔여금액의 폰트 크기가 메뉴의 폰트크기보다 크다. 같은 크기로 나타냄.


- [메인화면] 목록 테이블의 윗 여백을 최소화 한다. 좌우 여백을 없애니 너무 답답하다. 좌우에 조금의 여백을 추가한다.
- [식당 상세 팝업창] 예약일, 날짜 폰트를 조금 작게 조정
- [식당 상세 팝업창] 예약일, 날짜 폰트를 조금 작게 조정
- [식당 상세 팝업창] 타이틀과 본문 구분선을 없앤다.
- [식당 상세 팝업창] 메뉴탭, 선결제탭의 테이블 배경색과 선을 모두 없앤다.
- [식당 상세 팝업창] 하단버튼과 본문 구분선을 없앤다.
- [식당 상세 팝업창] 팝업창 높이를 고정한다. 화면 크기의 80%


모든 화면에 다음 이벤트 처리 후 Snackbar로 1초간 알림해준다.
알림 이벤트 : 저장, 삭제, 수령

* 식당 등록/수정 팝업창
[식당등록]
- Title : 식당 등록
- 입력 속성
식당 ID : restaurant key
식당명 : name
종류 : kind
전화번호 : telNo
메뉴 URL : menuUrl
메뉴 이미지 ID : menuImgId
식당위치 : naviUrl


[식당수정]
- Title : restaurant key
- 수정 속성
식당명 : name
종류 : kind
전화번호 : telNo
메뉴 URL : menuUrl
메뉴 이미지 ID : menuImgId
식당위치 : naviUrl

- 타이틀, 하단버튼 구분선을 제거하고 입력받는 Textfield의 좌우여백을 넓게 처리 한다.
- 식당 ID는 영어대문자와 숫자만 입력이 가능하며 저장시 저장되어 있는 값이 존재하는지 체크하여 존재시 중복알림 처리 한다.
- 식당 수정 상태에서 가장위 식당명 Textfiled가 잘려서 보인다. 위 여백 추가.


* 식당 상세 팝업창
- [예약 탭],[선결제 탭]에서 하단 삭제버튼 클릭시 삭제 여부를 MUI Dialog componant로 물어본다.
- [선결제 탭] 날짜 달력 아이콘이 클릭이 안된다.


웹페이지는 모바일용으로 만들었고 pwa기능을 이용하여 모바일에서 설치할 수 있도록 한다.
아이콘은 메인화면 타이틀의 아이콘과 동일한 형태의 컬러 아이콘으로 적용한다.
앱 이름은 "포장 예약"이다.
모바일 삼성인터넷 웹브라우저에서도 설치메뉴가 활성화 되도록 함.

* 메인화면
- 예약메뉴에 선결제금액이 없는 경우 가격을 잔여금액과 같은 형태로 출력한다.


pwa에 적용될 아이콘을 restaurant-icon.svg로 설정

* 메인화면
식당을 클릭시 식당 상세 팝업창이 오픈된다.
예약메뉴 클릭시에는 아무 동작을 하지 않는다.

* 식당 상세 팝업창
- [메뉴 탭] 본문 테이블 타이틀 메뉴 뒤에 history아이콘을 추가한다.
- history 아이콘을 누르면 식당에 예약에 메뉴와 가격을 중복없이 보여주는 팝업창이 뜨고 선택하면 한행이 선택한 메뉴와 가격으로 추가된다.
- 만약 첫행에 메뉴명이 비워져 있으면 행을 추가하지 않고 첫행에 선택한 메뉴와 가격을 반영한다.


* 식당 상세 팝업창
- history아이콘으로 메뉴를 추가시 알림을 하지 않는다.


* 식당 상세 팝업창
타이틀 바로 아래에 summary 표시
summary 예: 가격 53,000원 - 선결제 43,000원 = 10,000원

summary를 MUI Alert comonant로 처리. 폰트를 작게 한다. 색깔은 회색으로 한다.

* 식당 상세 팝업창
summary에 배경색 추가

* 메인화면
- 식당 속성에 네비 아이콘은 항상 나타나도록 한다. naviUrl값이 존재하지 않을 경우 아이콘 클릭을 disable하고 아이콘도 흐리게 보이도록 한다.

* 메인화면
- 메인 타이틀에 "포장 예약" 글자를 좀더 크게하고 아이콘과의 간격을 더 줄인다.
- naviUrl이 존재하지 않아 네이 아이콘이 흐리게 된 상태에서 클릭을 하면 식당 상세 팝업창이 오픈된다. 아무동작 하지 않도록 한다.

* 메인화면
- 메인 타이틀에 "포장 예약" 글자와 잔여금액합계와의 간격을 늘린다.
- naviUrl이 존재하지 않은 상태에서 클릭하면 여전히 식당 상세 팝업이 오픈된다. naviUrl이 없을때 네비 아이콘을 누렀을땐 아무 동작이 하지 않도록 한다.


* 식당 상세 팝업창
행삭제는 삭제된후 알림을 하지 않는다.

* 식당 상세 팝업창
isReceipt가 false가 아닌경우 하단 버튼에서 공유, 수령, 삭제 아이콘을 disable처리 한다.

* 식당 상세 팝업창
하단의 "추가"버튼을 각 탭으로 위치를 옮긴다.
[메뉴 탭] 테이블 타이틀에 메뉴, 히스토리 아이콘 오른쪽에 위치
[선결제 탭] 테이블 타이틀에 날짜 오른쪽에 위치

* 식당 상세 팝업창
하단의 "추가"버튼을 제거하고 각 텝 테이블 타이틀에 추가한다.
[메뉴 탭] 테이블 타이틀에 메뉴, 히스토리 아이콘 오른쪽에 위치
[선결제 탭] 테이블 타이틀에 날짜 오른쪽에 위치


* 식당 상세 팝업창
history icon을 AccessTime mui icon으로 변경
각탭 테이블 타이틀의 추가 버튼을 AddCircleOutline mui icon으로 변경

# Purpose
테마 기능을 추가

# Features
- [메인 화면] 타이틀 ... 아이콘을 눌렀을때 "테마" 메뉴를 추가한다.
- "테마"메뉴 클릭시 "화이트", "블랙"을 선택하는 팝업창이 오픈된다.
- 화이트 테마 : 현재와 동일
- 블랙 테마 : 배경색을 검정색으로 하고 전체적인 분위기를 지금과 같게하여 모든 오브젝트의 색을 조정한다.
- 조정된 테마는 Realtiem database에 사용자별로 저장된다.
* theme 테이블
"theme" :{
  (사용자UID): {
    "theme": theme값 (white, black)
  }     
}

---------------------------------------------

* 테마 선택 팝업
화이트, 블랙이 버튼으로 되어 있는데 이를 옵션 선택으로 변경하고 아래 닫기, 확인 버튼을 추가함.

* 메인화면
(블랙 테마) 테이블에서 isReceipt가 true인 식당의 글자가 검정색이라 보이지 않는다. 회색으로 글자 색깔 조정
(블랙 테마) 테이블에서 잔여금이 0인 메뉴의 글자색이 파란색으로 되어 있어서 잘 보이지 않는다. 좀더 밝은색으로 조정

* 식당 상세 팝업창
(블랙 테마) 팝업창 외곽선이 너무 밝다. 어두운 색깔로 외곽선 색깔 조정
(블랙 테마) 흰색의 글자가 너무 눈에 피로감을 준다. 실버로 글자 색깔 조정
(블랙 테마) summary의 색이 너무 튄다. summary의 배경과 글자색을 서로 바꿈.
(블랙 테마) 하단 버튼이 enable과 disable의 차이가 별로 없다. enable버튼의 색을 좀더 밝에 조정

* 식당 등록/수정 팝업창
(블랙 테마) 하단 버튼 중 닫기 버튼에 테마 적용이 안됨. 테마 적용.
summary는 식당 등록/수정 팝업창 열릴때 갱신되고 있다. 메뉴, 선결제 금액이 변경될때마다 갱신되도록 함.

-------------------------------
* 식당 등록/수정 팝업창
행 추가 버튼 클릭시 테이블 타이틀의 배경색이 클릭했을때처럼 색깔이 바뀐다. 타이틀 배경색이 클릭와 행추가 버튼 클릭시 변경되지 않도록 함.

* 식당 등록/수정 팝업창
(메뉴탭) history 버튼에도 테마 적용
(메뉴탭) history 팝업창 테이블 타이틀이 검정색이다. 지금보다 조금 더 밝게 조정하여 전체 배경과 차이를 둔다.


* 식당 등록/수정 팝업창
(메뉴탭)(선결제탭) 행 추가 버튼 클릭시 버튼의 배경색이 (블랙 테마)에서는 검정색으로 (화이트 테마)에서는 실버색으로 남아 있다. 배경색이 변경된 상태로 남아 있지 않도록 처리

* 식당 등록/수정 팝업창
(메뉴탭)(선결제탭) 행 추가 버튼 클릭시 버튼의 배경색이 (블랙 테마)에서는 검정색으로 (화이트 테마)에서는 실버색으로 남아 있다. 다른 방법으로 배경색이 변경된 상태로 남아 있지 않도록 처리

* 메인 화면
(블랙 테마) isReceipt가 true인 예약 메뉴가 검정색이라 보이지 않는다. 다크 그레이로 색상 변경

* 식당 등록/수정 팝업창
(메뉴탭)(선결제탭) 행 추가 버튼 클릭시 버튼의 배경색이 (블랙 테마)에서는 검정색으로 (화이트 테마)에서는 실버색으로 남아 있다. 다른 방법으로 배경색이 변경된 상태로 남아 있지 않도록 처리

* restaurant 테이블
"restaurant" : {
    [restaurant key] : {
        "kind":[식당종류],
        "menuImgId":[메뉴 이미지 url],
        "menuUrl":[메뉴 페이지 url],
        "name": [식당명],
        "telNo": [전화번호],
        "naviUrl": [식당위치]
        "hide": [감추기 여부(boolean)]
    }
}

식당 등록/수정 팝업창에 "수정"상태일때 하단 우측에 MUI VisibilityOff Icon을 추가한다.
VisibilityOff 아이콘을 클릭시 Realtime database에 restaurant table에 hide속성을 true로 저장하고 아이콘은 빨간색으로 색깔을 바꾼다.
hide속성이 true인 상태에서 클릭하면 hide속성을 false로 저장하고 아이콘을 초기 색깔로 조정한다.

메인 화면에서 hide 속성이 없거나 false인 식당만 출력한다.
그리고 테이블 가장 하단에 ... 아이콘을 추가한다.
... 아이콘을 누르면 hide 속성이 true인 식당을 추가로 출력하며 ... 아이콘은 감춘다.

식당 등록/수정 팝업창에서 하단버튼중 "취소"를 "닫기"로 조정한다.
식당 등록/수정 팝업창에서 수정 상태일때 VisibilityOff 아이콘은 하단 버튼의 우축이 아니라 하단 화면의 우측에 위치하게 조정한다.

메인화면에서 테이블 하단 ... 눌렀을때 hide 속성이 true인 식당이 추가로 출력되며 hide 속성이 true인 식당은 true 식당보다 아래쪽에 출력되도록 한다.

식당 등록/수정 팝업창에서 수정 상태일때 VisibilityOff 아이콘은 팝업창 좌측 하단에 위치하도록 조정

# 목적
사용자별 hide restaurant 제어기능으로 조정

# 상세로직
* hideRestaurant 테이블
"hideRestaurant" : {
    (사용자 UID) : [(restaurant key)]
}

식당 등록/수정 팝업창에서 수정 상태일때 VisibilityOff 아이콘 누르면 hideRestaurant 테이블에 사용자 UID별로 restaurant key를 추가 또는 삭제한다.
restaurant 테이블에 hide속성에 의한 로직은 모두 제거를 하고 hideRestaurant에 restaurant key의 존재 여부로 동일한 기능을 구현한다.

# 목적
디자인 변경

# 개선사항
[메인화면]
- 타이틀과 본문의 구분선을 아주 가는선으로 표시
- 본문 테이블의 외곽선을 앲애고 모든 외각선 여백을 작게 처리
- 네비아이콘의 disable상태 색깔 구분이 잘 안됨.
  화이트 테바일때는 점더 밝은색으로 처리, 블랙 테마일때는 좀더 더웁게 처리

# 제한사항
- 디자인만 변경한다.


# 목적
디자인 변경

# 개선사항
[메인화면]
- 타이틀과 본문의 구분선 추가
- 본문 테이블에서 행간 여백을 늘림.

# 제한사항
- 디자인만 변경한다.

# 목적
디자인 변경

# 개선사항
[메인화면]
- 화이트 테마일때 전화 아이콘의 색을 모든 행을 블랙으로 동일하게 처리

# 제한사항
- 디자인만 변경한다.


# 목적
디자인 변경

# 개선사항
[식당 상세 팝업]
- 우측 상단에 있는 메뉴보기 버튼을 식당 수정 버튼의 오른쪽으로 위치 조정
- 화면 하단의 버튼중 "닫기"버튼을 제거
- 화면 하단 버튼이 disable 상태일때 색깔을 실버색으로 조정
- 팝업창 좌우 여백을 1으로 고정한다.
- 팝업창의 크기를 전체 화면의 90%로 고정한다.

# 제한사항
- 디자인만 변경한다.


[식당 상세 팝업]
메뉴탭에 예약일과 선결제탭에 날짜를 눌렀을때 출력되는 캘린더 컴포넌트에 대해 사용자 정의로직을 모두 제거하여 공식 컴포넌트로 출력되게 한다.

[식당 상세 팝업]
- 타이틀과 본문의 구분선 제거
- 날짜를 클릭시 캘린터 컴포넌트 오픈 제거. 캘린터 컴포넌트를 사용하지 않는다.
- 날짜는 yyyy.MM.dd로 mask되어 입력받는 Field로 처리

[메인 화면]
타이틀에 포장 예약 우측으로 잔여금액 합계가 나타남.

[식당 등록/수정 팝업창]
- 팝업창이 잘려 보인다. 팝업창 높이를 전체 화면의 90% 이하로 하고 내부 스크롤 처리한다.
- 타이틀에 우측에 닫기 아이콘을 넣고 그 왼쪽에 저장버튼을 아이콘으로 처리한다.
- 하단의 저장 버튼은 제거한다.

[식당 등록/수정 팝업창]
- 타이틀에 추가한 닫기 버튼 제거
- 저장 아이콘은 감추기 아이과 같은 행의 화면 우측으로 위치 조정
- 모바일 화면에서는 팝업창이 다 나타나지 않는다. 모바일 화면에서도 나타나도록 높이 조정.

[식당 등록/수정 팝업창]
- 추가 상태일때 팝업 외부 상단 여백을 조금 추가한다.


[식당 상세 팝업]
날짜 선택시 오픈되는 달력 컴포넌트 출력에 문제가 있다.
현상 : 달력 오픈시 좌우 여백없이 꽉찬 화면으로 출력되며 날짜위에 요일이 우측으로 따로 출력되는 문제
문제를 조치하라.

메인 화면에서 식당을 클릭하면 식당 상세 팝업이 오픈된다.
예약 메뉴 또는 비활성화 네비 아이콘을 눌렀을때 식당 상세 팝업 오픈 로직은 제거

# 메인화면
## 식당별 icon 출력
### 저장소
  - 식당종류 : restaurant / {식당ID} / kind
  - 식당종류별 icon : restaurant-kind / {kind} / icon
  * 아이콘은 Lucide Icon으로 정의되어 있다.

## 정의된 icon값 사용방법
/lib/icon_utils.tsx를 작성해 놓았다.
여기에 구현되어 있는 `getLucideIcon`를 활용하여 아이콘을 표시하려 한다.

- icon import
import { getLucideIcon } from "@/lib/icon-utils"

- icon 객체 생성
const IconComponent = getLucideIcon({식당종류별 icon})

## 출력위치
식당명 앞에 icon 추가

# 메인화면
아이콘 추가로 인해 식당명의 컬럼 길이가 커져서 메뉴명 출력 공간이 부족하다.
식당 버튼에서 아이콘을 제거하고 식당 버튼 오른쪽 끝에 글자와 겹쳐보여지게 아이콘을 출력한다.

# 아이콘이 버튼 안에 공간을 차지하고 있다.





# 목적
메인화면의 식당별로 아이콘을 보여준다.

# 구현 조건
1. 아이콘은 lucide-react을 사용한다.(getLucideIcon 활용)
2. 아이콘을 식당명 앞으로 위치하도록 한다.
3. 식당명이 긴경우(한글 6자리 이상) 말줄임 처리를 적용한다.

메인화면의 식당버튼내 식당명이 6자리 이상인 경우 잘라서 앞 글자만 자른후 …를 붙여서 보여준다.
`파리바게트(덕산아내점)`의 경우 `파리바게트(덕…`로 나타냄


동대문엽기떡볶이는 식당종류가 FASTFOOD이다. FASTFOOD의 아이콘은 Hamburger로 설정되어 있는데 Lucide icon이 출력되지 않고 있다. 원인은?


# 메인화면
식당 버튼의 넓이를 140px로 고정한다. 만약 식당명이 길경우 잘라서 보여준다. 식당 버튼의 크기는 변경되지 않는다.


# 목적
식당 등록/수정 팝업창에 종류를 명칭으로 나타내고 종류를 등록/수정할 수 있는 기능을 추가한다.

# 구현내용
## 식당 등록/수정 팝업창
- 저장소
  식당종류 : restaurant / {식당ID} / kind
  식당종류별 명칭 : restaurant-kind / {kind} / name
- `종류`는 getLucideIcon를 이용하여 아이콘과 함께 name의 값으로 나타나도록 
- 종류를 누르면 종류를 선택할 수 있는 팝업창이 오픈된다.


Lucide icon에 Hamburger의 버전은 v0.504.0이다. Hamburger icon출력이 가능하도록 package.json을 수정

# 목적
식당별 메뉴를 관리

# 구현
## 식당 등록/수정 팝업
- 메뉴 이미지 ID 아래에 `메뉴 관리`를 추가하고 내용으로 등록되어 있는 메뉴명을 ,로 구분하여 출력한다.
- 식당 메뉴 저장 장소
  / food-resv / restaurant / {식당ID} / menu /
     "name" : string (메뉴명)
     "img" : string (Cloudinary 이미지 ID(mobile용))
     "thumbnail" : string (Cloudinary 이미지 ID(thumbnail용))
     "cost" : number (가격)
     "remark" : string (비고)
- 메뉴 관리에 메뉴명을 클릭하면 메뉴 관리 팝업이 호출되며 메뉴명, 가격, 비고를 수정할 수 있는 팝업창이 오픈된다.
- 메뉴명 옆에는 "사진"아이콘이 있으며 사진 아이콘을 누르면 Cloudinary 이미지를 업로드할 수 있는 팝업창이 오픈된다.
- 사진을 업로드시 mobile용과 thumbnail용으로 업로드를 진행하고 각각의 image id를 img와 thumbnail에 저장한다.
- 이미지가 저장된 상태에서는 사진 아이콘의 색깔을 녹색으로 표시한다.

## 식당 등록/수정 팝업
 - 메뉴 관리에서 사진 아이콘은 제거한다.
 - 메뉴 관리 클릭시 등록된 메뉴가 하나도 없을 경우 바로 메뉴 등록 팝업을 오픈하고 등록된 메뉴가 존재시 메뉴 목록 팝업이 오픈된다.

## 메뉴 목록 팝업
 - 식당별 메뉴 목록이 조회된다.
 - 팝업 타이틀은 `식당명` + 메뉴목록 으로 출력한다.
 - 조회된 식당명을 클릭하면 메뉴 수정 팝업이 오픈된다.

 ## 메뉴 목록 팝업
 - 팝업 타이틀은 `식당명` + 메뉴목록 으로 출력한다.
 - 타이틀 닫이 아이콘 왼쪽에 +아이콘을 추가하고 + 아이콘 클릭시 메뉴 등록 팝업이 오픈된다.

 ## 메뉴 목록 팝업
  - + 아이콘을 타이틀 우측으로 이동

## 메뉴 관리 팝업
 - 용도에 따라 `메뉴 등록`과 `메뉴 수정`으로 나누어 타이틀을 출력
 - `메뉴 정보를 입력하세요` 문구 제거
 ` `취소`버튼 제거
 - `저장`버튼을 아이콘으로 변경

 ## 메뉴 등록/수정 팝업
  - 저장 아이콘을 하단 우측으로 위치
  - 본문과 하단과의 구분선 제거
  - 내부 좌우 여백을 15px, 아리쪽 여백 15px 추가
  - `저장`아이콘은 팝업창 우측으로 이동
  - 속성은 메뉴명 - 가격 - 사진 - 비고 순서대로 출력

## 식당 등록/수정 팝업
  - `식당 등록` 팝업에도 `메뉴 관리` 항목 추가
  - `식당 수정` 팝업의 상단이 화면 밖으로 나가버려 잘려서 나타난다. 팝업 세로 높이 조정

## 식당 등록/수정 팝업
  - `식당 등록` 팝업에도 `메뉴 관리` 항목 추가

## 식당 수정 팝업
  - 팝업 외부 위쪽 여백을 40px로 조정

## Cloudinary 이미지 등록 팝업
 - 중앙 카메라 아이콘을 누르면 촬영을 할지 파일을 선택할지 선택할 수 있도록 한다.
 - 등록된 이미지 하단 표시(mobile용)
   . 텍스트 : 등록된 이미지`
   * 현재 식당 수정 팝업에 메뉴 이미지 ID의 이전 등록 이미지는 하단에 나타나고 있지만 메뉴 수정 팝업에 메뉴 이미지는 나타나지 않고 있다.

메뉴 업로드 팝업에서 사진 아이콘 클릭시 `사진 촬용`, `파일 선택`, `취소`버튼이 보인다. 이중에 `취소`버튼 제거

이미지 업로드시 public id를 바로 db에 저장한다.

메뉴 리스트 이미지를 저장하면 메뉴 관리가 초기화 된다.
메뉴 관리가 조치화 되지 않도록 한다.

메뉴 이미지 업로드 팝업에서 이미 등록된 이미지의 public id가 존재시 cludinary에서 public id를 조회하여 아래에 보여준다.
메뉴 이미지 업로드 팝업에서 이미 등록된 이미지의 public id로 팝업 하단에 등록된 이미지로 나타나지 않고 있다. Cloudinary SDK를 이용하여 이미지를 출력 시도

## Error Type
Console Error

## Error Message
이미지 로드 실패: "cgkijrj8qkrazz1whpxi" "URL:" "https://res.cloudinary.com/da5h7wjxc/image/upload/f_auto/q_auto/cgkijrj8qkrazz1whpxi?_a=DATAiZAAZAA0"


    at onError (app/home-page-client.tsx:1225:31)현
    at img (<anonymous>:null:null)
    at ImageUploadDialog (app/home-page-client.tsx:1220:19)
    at Home (app/home-page-client.tsx:3003:64)
    at HomePage (app\page.tsx:7:10)

## Code Frame
  1223 |                     className="h-40 w-full object-cover"
  1224 |                     onError={() => {
> 1225 |                       console.error('이미지 로드 실패:', initialPublicId.trim(), 'URL:', imageUrl);
       |                               ^
  1226 |                       setImageLoadError(true);
  1227 |                       setImageLoading(false);
  1228 |                     }}

Next.js version: 15.5.0 (Turbopack)

등록된 이미지 조회시 현재를 변경으로 조정하여 시도
현재 : "https://res.cloudinary.com/da5h7wjxc/image/upload/f_auto/q_auto/cgkijrj8qkrazz1whpxi?_a=DATAiZAAZAA0"
변경 : "https://res.cloudinary.com/da5h7wjxc/image/upload/f_auto,q_auto/cgkijrj8qkrazz1whpxi?_a=DATAiZAAZAA0"

## Error Type
Console Error

## Error Message
이미지 로드 실패: "snax4c13u5rjpmq2kyjh" "URL:" "https://res.cloudinary.com/da5h7wjxc/image/upload/f_auto,q_auto/snax4c13u5rjpmq2kyjh"


    at onError (app/home-page-client.tsx:1221:31)
    at img (<anonymous>:null:null)
    at ImageUploadDialog (app/home-page-client.tsx:1216:19)
    at MenuEditDialog (app/home-page-client.tsx:1421:7)
    at RestaurantFormDialog (app/home-page-client.tsx:1865:9)
    at Home (app/home-page-client.tsx:2973:13)
    at HomePage (app\page.tsx:7:10)

## Code Frame
  1219 |                     className="h-40 w-full object-cover"
  1220 |                     onError={() => {
> 1221 |                       console.error('이미지 로드 실패:', initialPublicId.trim(), 'URL:', imageUrl);
       |                               ^
  1222 |                       setImageLoadError(true);
  1223 |                       setImageLoading(false);
  1224 |                     }}

Next.js version: 15.5.0 (Turbopack)

--------------------------------------------------------

# 목적
식당 메뉴 페이지를 신규로 작성

# 화면 구성
## 메인 페이지
- 메뉴에 `식당 메뉴`를 추가한다.
- `식당 메뉴`를 선택시 식당 메뉴 page로 이동한다.

## 식당 메뉴 page
 - 식당 메뉴 page의 url : ~/rest-menu
 - 메뉴에 `식당 메뉴`를 제거하고 `포장 예약` 메뉴를 추가한다.
 ` `포장 예약`을 선택시 메인 페이지로 이동한다.
 - 타이틀 : 식당 메뉴
 - 본문 : `식당`, `전화/네비`로 컬럼 구성 (메인 화면과 디자인이 동일하며 `예약 메뉴`만 제거하여 나타냄)
 - 식당 클리시 식당 메뉴 팝업이 호출된다.

## 식당 메뉴 팝업
 - 메뉴이미지(thumbnail), 메뉴명(타이틀은 메뉴로 표시), 금액으로 출력한다.
 - 메뉴 이미지를 선택시 이미지(img)를 팝업으로 보여준다. 

- 식당 메뉴 페이지도 포장 예약 페이와 동일하게 화이트/블랙 테마를 적용한다.
- 식당 메뉴 페이지의 메뉴에도 포장 예약 페이지와 동일하게 `식당 등록`과 `테마` 메뉴를 추가하고 기능도 동일하게 구현한다.

## 식당 페이지 / 식당 메뉴 팝업
- 타이틀 우측에 `연필`아이콘을 추가하고 연필 아이콘 클릭시 포장 예약 페이지의 식당 수정 팝업처럼 식당 수정 팝업이 오픈된다.
- 이미지는 60x60으로 나타내고 메뉴명, 금액, 삭제아이콘 한행으로 출력한다.
- 삭제 아이콘 클릭시 삭제 여부를 Alert Dialog로 물어보고 삭제처리 한다.
- 팝업창 우측 하단에 플로팅 버튼(+ 아이콘)을 추가하고 클릭시 포장 예약 페이지 / 식당 수정 / 메뉴 관리 / 메뉴 등록 팝업과 동일한 페이지를 오픈한다.

## 식당 페이지 / 식당 메뉴 팝업
- 연필 아이콘은 타이틀 문구 바로 우측에 위치하게 한다.
- 메뉴를 클릭하면 포장 예약 페이지 / 식당 수정 / 메뉴 관리 / 메뉴 수정 팝업과 동일한 페이지를 오픈한다.

## 식당 페이지 / 식당 메뉴 팝업
- 플로팅 버튼의 크기는 42px로 한다.
- 금액을 메뉴명 아래가 아닌 우측 컬럼으로 나타나도록 한다.

## 식당 페이지 / 식당 메뉴 팝업 / 메뉴 수정 팝업
- 수정후 저장을 누르면 알림 메시지 2개가 겹쳐져서 출력된다.

## 식당 페이지 / 식당 메뉴 팝업
- 금액 뒤에 비고 컬럼 추가

## 식당 페이지
타이틀과 본문 테이블 사이게 검색 입력과 돋보기 아이콘 추가. 검색어를 넣고 돋보기 아이콘을 누르면 식당명, 메뉴명을 검색하여 포함되는 식당이 조회됨.
검색어를 지우고 돋보기를 누르면 전체가 조회됨.

## 식당 페이지
본문은 식당명으로 오름차순 정렬하여 출력. 단, 영문과 한글중 한글이 더 우선순위가 높다.

돋보기 버튼을 제거
검색어 입력란 안쪽 가장 앞에 돋보기 아이콘 추가. 돋보기 아이콘은 그냥 디자인일뿐 클릭시 아무 동작은 안함.

## 식당 메뉴 페이지
타이틀 아이콘을 책 아이콘(포장 예약페이지 메뉴의 식당 메뉴 아이콘과 동일)으로 변경

각 페이지의 타이틀 아이콘을 누르면 페이지를 전환한다.
예를 들어 식당 예약 페이지의 타이틀 아이콘을 누르면 포장 예약 페이지가 된다.

## 식당 메뉴 페이지
검색어 입력란 우측에 X 아이콘을 추가하고 이 아이콘을 누르면 입력되어 있는 검색어를 모두 지운다

## 식당 메뉴 페이지
검색어 입력란 clear 기능 추가



## 식당 페이지 / 식당 메뉴 팝업
식당명과 금액을 한행에 나타낸다.
비고는 그 아래행에 출력한다.


---------------------------------

- 알림에서 좌측 상단에 x로 닫기 버튼이 나타나지 않도록 한다.
- 식당 수정 팝업에서 메뉴 관리를 등록후 저장버튼을 누르면 저장되어 있던 메뉴 관리 항목이 초기회된다.




식당 수정 팝업에서 저장버튼 클릭시 등록된 메뉴가 삭제된다. 삭제되지 않고 유지되도록 한다.




# 목적
유사한 기능으로 통합이 가능한 컴포넌트를 검토한다.

# 대상 컴포넌트
식당 등록, 식당 수정, 메뉴 이미지 업로드, 메뉴 등록, 메뉴 수정

# 검토 사항
 1) 식당 메뉴와 포장 예약에서 공통적으로 사용하는 팝업 통합여부
 2) 등록과 수정 팝업 통합 여부

"foot-resv" : {
 "visit-log" : {
  "사용사 uid" : {
    "날짜": "메뉴명"
  }
 }
}

# 식당 메뉴 / 식당 메뉴 팝업
- 삭제 아이콘 왼쪽에 연필 아이콘을 추가한다.
- 메뉴 리스트에서 연필 아이콘을 누르면 메뉴 수정 팝업이 오픈된다.
- 메뉴 리스트에서 메뉴명을 클릭하면 visit-log가 저장되고 팝업이 닫힌다. 

# 식당 메뉴
- 식당별 가장 최근의 선택 메뉴를 보여준다.
- (yyyy.mm.dd) 메뉴명

# 식당 메뉴
- 식당별 가장 최근의 선택 메뉴를 식당명 우측 컬럼으로 보여준다.
- (yyyy.mm.dd) 메뉴명

# 식당 메뉴
- 최근 메뉴를 `mm/dd(요일) 메뉴명`로 보여준다.

# db저장
visit-log / 사용자 uid / 식당 id 의 속성으로 날짜와 메뉴명만 관리한다.
날짜는 yyyyMMdd포멧으로 저장한다.


# 식당 메뉴
- 최근 메뉴를 클릭시 visit-log / 사용사 uid / 식당 id의 모든 메뉴 리스트를 `메뉴 이력` 팝업창으로 보여준다.
- 최근 메뉴가 없는 경우 최근 메뉴 컬럼을 클릭하여도 아무 동작 하지 않는다.
- 메뉴 이력 팝업창은 날짜(yyyy.mm.dd), 메뉴명 으로 보여주며 날짜를 역순으로 정렬한다.
- 식당 리스트 정렬조건
  1) 최근 메뉴 방문일시의 역순
  2) 식당명



# 식당 메뉴 / 메뉴 이력 팝업
- 타이틀을 `[식당명] 메뉴 이력` -> `[식당명]` 으로 수정

# 식당 메뉴
- 식당별 메뉴 수정 팝업은 식당명 클릭시에만 오픈되도록 한다.

# 식당 메뉴
컬럼을 `식당`, `최근 메뉴`, `전화/네비`로 나누어 출력토록 한다.
최근 메뉴가 너무 길면 ...으로 줄여서 나타낸다.

# 식당 메뉴 / 메뉴 이력 팝업
- 가장 우측에 삭제 아이콘을 추가하며 클릭시 확인없이 해당 이력을 삭제한다.

로그인 페이지에서 비밀번호가 틀렸을때 `Firebase:Error (auth/invaild-credential).`이라는 오류메시지로 출력된다.
사용자가 인식하기 쉬운 말로 변경.(예. 이메일 또는 비밀번호가 맞지 않습니다.)

# 식당 메뉴 / 식당 메뉴 팝업
- 메뉴 수정을 위한 연필 아이콘의 크기는?

# 식당 상세 팝업창
- 메뉴 탭에 신규 행을 추가하거나 최초 입력시 신규행의 메뉴에 포커스를 이동시킨다.
- 결제 탭에 신규 행을 추가하거나 최초 입력시 신규행의 금액에 포커스를 이동시킨다.


# 식당 상세 팝업창
- 메뉴 탭에 메뉴가 없을 경우 빈행을 추가하고 있다. 이때 포커스를 메뉴로 이동시킨다.
- 결제 탭에 결제 이력이 없을 경우 빈행을 추가하고 있다. 이때 포커스를 금액으로 이동시킨다.



popState 이벤트를 모두 무시하고 아무 동작하지 않게 구현할 수 있는 가장 간단한 방법


타이틀의 아이콘을 클릭할때와 메뉴에서 식당 메뉴, 포장 예약 메뉴를 클릭시 router.replace()를 이용하여 페이지를 전환하여 history에 이력이 쌓이지 않도록 처리 한다.


작성된 page와 팝업을 page.md파일로 작성해줘
공통페이지, 포장예약페이지, 식당메뉴페이지를 구분하여 작성


# 목적 : 팝업창에서 식댕 메뉴 조회기능 추가

# 대상 : RestaurantMenuDialog

# 구현
  - 타이틀에 연필 우측에 메뉴 아이콘 추가
  - 메뉴 아이콘의 나타나는 조건과 클릭시 기능은 `RestaurantDetailDialog의 메뉴 아이콘`과 동일하게 구현


# 목적 : 예약 및 선결제 공유내용을 개선

# 대상 : RestaurantDetailDialog  

# 구현내용
 - 공유 아이콘을 클릭했을때 text로 작성되는 공유내용을 html로 작성하여 테이블 형태로 작성함.
 - 테이블 형태로 작성된 내용을 이미지로 변환하여 공유

# 목적 : 예약 및 선결제 공유내용을 개선

# 대상 : RestaurantDetailDialog  

# 구현내용 : 아래 html을 참고하여 디자인을 개선해줘. row의 height는 모두 30px로 일치시킨다.

 <table cellspacing="0" cellpadding="0" border="1" class="" style="width: 234px; height: 147px; font-size: 10pt; border-width: 0px; border-color: rgb(0, 0, 0); border-collapse: collapse; border-style: solid; background-color: rgb(255, 255, 255);">
<tbody>
<tr>
<td style="width: 72px; height: 87px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background-color: rgb(238, 238, 238);" colspan="1" rowspan="3">
<p style="text-align:center"><span style="font-weight: bold;">메뉴/가격</span></p></td>
<td style="width: 106px; height: 30px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid;">
<p>&nbsp;우유</p></td>
<td style="width: 54px; height: 30px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid;">
<p style="text-align:right">2,000원</p></td>
</tr>
<tr>
<td style="width: 106px; height: 28px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid;">
<p>&nbsp;리얼초코</p></td>
<td style="width: 54px; height: 28px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid;">
<p style="text-align:right">3,000원</p></td>
</tr>
<tr>
<td style="width: 106px; height: 28px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid;">
<p>&nbsp;분다버그x2</p></td>
<td style="width: 54px; height: 28px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid;">
<p style="text-align:right">4,500원</p></td>
</tr>
<tr>
<td style="width: 72px; height: 28px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background-color: rgb(238, 238, 238);">
<p style="text-align:center"><span style="font-weight: bold;">가격</span></p></td>
<td style="width: 160px; height: 28px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid;" colspan="2" rowspan="1">
<p style="text-align:center">11,500원</p></td>
</tr>
<tr>
<td style="width: 72px; height: 31px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background-color: rgb(238, 238, 238);">
<p style="text-align:center"><span style="font-weight: bold;">예약일</span></p></td>
<td style="width: 160px; height: 31px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid;" colspan="2" rowspan="1">
<p style="text-align:center">11.21 (금)</p></td>
</tr>
</tbody>
</table>
<p><br /></p>
<p><span style="font-weight: bold;">선결제</span></p>
<table cellspacing="0" cellpadding="0" border="1" style="width: 233px; height: 120px; font-size: 10pt; border-width: 0px; border-color: rgb(0, 0, 0); border-collapse: collapse; border-style: solid; background-color: rgb(255, 255, 255);" class="">
<tbody data-pe_by-k="">
<tr>
<td style="width: 72px; height: 30px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background-color: rgb(238, 238, 238);">
<p style="text-align: center;"><span style="font-weight: bold;">날짜</span></p></td>
<td style="width: 159px; height: 30px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background-color: rgb(238, 238, 238);">
<p style="text-align: center;"><span style="font-weight: bold;">금액</span></p></td>
</tr>
<tr data-pe_by-k="">
<td style="width: 72px; height: 30px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid;" data-pe_by-k="">
<p style="text-align: center;">&nbsp;11.17(월)</p></td>
<td style="width: 159px; height: 30px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid;">
<p style="text-align: center;">&nbsp;10,000원</p></td>
</tr>
<tr>
<td style="width: 72px; height: 30px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid;">
<p style="text-align: center;">&nbsp;11.18(화)</p></td>
<td style="width: 159px; height: 30px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid;">
<p style="text-align: center;">&nbsp;500원</p></td>
</tr>
<tr>
<td style="width: 72px; height: 30px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background-color: rgb(238, 238, 238);">
<p style="text-align: center;"><span style="font-weight: bold;">합계<br /></span></p></td>
<td style="width: 159px; height: 30px; border-width: 1px; border-color: rgb(0, 0, 0); border-style: solid; background-color: rgb(238, 238, 238);">
<p style="text-align: center;"><span style="font-weight: bold;">10,500원</span></p></td>
</tr>
</tbody>
</table>
<p><br /></p>


# 공유양식
- 선은 매우 얇게 하고 글짜색을 모두 검정색한다.
- 글자가 row의 중앙에 오도록 한다.(현재는 아래쪽에 위치함)

공유 양식을 현재의 기본 틀만 유지하고 최신 트렌드에 맞게 아이콘도 추가하고 컬러도 추가하여 깔끔하게 변경해줘
내용이 행바꿈이 되지 않도록 테이블 크기를 고정하지 않음.

# 공유양식
- 아이콘은 Lucide icon으로 변경해서 깔끔하게 처리
- row의 높이를 줄인다.
- 배경이 너무 화려하다. 단색으로 처리해줘.
- 타이틀의 배경색은 제거

# 공유양식
- 메뉴의 아이콘은 제거
- 글자가 vertical의 center에 오도록 조정
- 타이틀 아이콘을 제외한 나머지 아이콘은 모두 다크 그레이로 처리
- 메뉴가 1개일때는 `메뉴/가격`에서 `메뉴`만 나타내고 메뉴별 가격을 없애고 메뉴명만 나타낸다.


# 대상 : RestaurantDetailDialog  
# 구현내용 
- 공유 아이콘 왼쪽에 미리보기 아이콘을 추가
- 미리보기 아이콘을 클릭시 공유 아이콘 클릭시 작성되는 html을 팝업창으로 보여준다.
- 미리보기 아이콘은 개발모드에서만 나타나도록 하고 production에서는 나타나지 않도록 한다.
- 공유 아이콘과 미리보기 아이콘을 클릭했을때 작성되는 html 코드 작성 코드는 하나로 관리한다.

# 목적 : 공유양식 디자인 개선
# 대상 : 공유양식
# 내용
- 가장 외부의 큰box의 외부 여백을 조금만 남기고 없앤다.
- 선결제 아이콘을 놔두고 나머지 텍스트 앞 아이콘을 제거한다.
- 예약 금액보다 설결제 금액의 합계가 같거나 더 많은 경우 sparkles아이콘을 합계 앞에 표시한다.
- 예약 정보 테이블에 가로선을 나타낸다.

# 목적 : 공유양식 디자인 개선
# 대상 : 공유양식
# 내용
- 예약 정보 테이블과 선결제 테이블의 외각선츨 추가한다.


# 목적 : 공유양식 디자인 개선
# 대상 : 공유양식
# 내용
- 예약 정보 테이블과 선결제 테이블의 외각선이 보이지 않는다. 원인은?

# 목적 : 공유양식 디자인 개선
# 대상 : 공유양식
# 내용
- 예약 정보 테이블과 선결제 테이블의 왼쪽, 오른쪽 여백을 조금만 남긴다.
- 타이틀(식당명) 위쪽 여백도 조금만 남긴다.


# 목적 : 공유양식 디자인 개선
# 대상 : 공유양식
# 내용
- 식당명이 출력되는 타이틀의 우측 끝으로 예약일을 출력한다. 예약일의 폰트 크기는 위치 조정전과 같다.
- 예약 정보 테이블에서 예약일은 제거한다.
- 테이블과 외각 box 사이의 여백을 최소로 한다.

# 목적 : 공유양식 디자인 개선
# 대상 : 공유양식
# 내용
- 식당명 위쪽 여백이 너무 넓다. 최대한 좁힌다.


# 목적 : 공유양식 디자인 개선
# 대상 : 공유양식
# 내용
- 식당명 왼쪽에 식당 아이콘을 출력한다.
  식당 아이콘은 포장예약 페이지에 식당명 앞의 아이콘과 동일한 로직으로 가져온다.


# 목적 : 공유양식 디자인 개선
# 대상 : 공유양식
# 내용
- 식당명 왼쪽에 식당 아이콘의 색깔을 선결제 금액에 따라 동적으로 변경되게 처리한다.
  예약금액 보다 선결제금액이 같거나 크면 rgb(37, 0, 170) 이다.
  선결제금액이 없거나 0인 경우 rgb(170, 0, 0)이다.
  예약금액과 선결제금의 비율에 따라 위 두색깔으로 점점 변경되게 처리


# 목적 : 식당 종류 관리 팝업 추가
# 내용 : 메뉴에 `식당 종류` 메뉴를 추가한다. 메뉴 선택시 식당 종류를 관리하는 팝업창이 오픈된다.

# 식당 종류 관리 팝업
타이틀에 + 버튼을 누르면 신규 추가할 수 있도록 한다.
신규추가시엔 key값도 입력받는다.

# 목적 : 식당 수정시 등록된 이미지 삭제 기능 추가
# 대상 : 식당 수정 팝업
# 내용 : 메뉴 리스트 이미지에 이미지가 등록되어 있을 경우 등록여부 문구의 가장 우측에 X 아이콘을 표시하고 X아이콘 클릭시 등록된 이미지 id값을 삭제처리 한다.
        
# MenuEditDialog
신규로 메뉴를 등록하고 저장시 알림 메시지 두개가 겹쳐서 뜬다.      

테마 설정을 realtime database에 저장하지 않고 localStorage에 저장한다.
앱이 오픈될때 테마 설정을 바로 적용하도록 한다.

포장예약 페이지와 식당메뉴 페이지의 테마 설정이 각각 관리되고 있다.
테마 설정은 하나로 관리될 수 있도록 한다.
블랙 테마로 설정된 상태에서 식당메뉴 페이지로 전환하면 화이트 테마에서 블랙으로 변경된다.
바로 블랙테마로 나타날 수 있도록 한다.

# 대상 : RestaurantDetailDialog  
# 구현내용 
- 메뉴, 설결제 탭에서 추가후 저장전에는 입력된 값들이 짙은 회색으로 출력되고 저장시 테마에 따라 흰색 또는 검정색으로 출력됨.


# 대상 : RestaurantDetailDialog  
# 구현내용 
- 메뉴, 선결제 탭에서 추가후 저장전에는 입력된 값들이 검정색 테마일때는 짙은 회색, 흰색 테마일때는 밝은 회색으로 출력되고 저장시 테마에 따라 흰색 또는 검정색으로 출력됨.
- 선결제 탭에서 금액을 3000원으로 입력시 저장전임에도 글자색이 기본색으로 조정됨. 원인 분석 및 조치

# 대상 : RestaurantDetailDialog 
# 구현내용 
- 메뉴 탭에서 신규메뉴의 메뉴명과 금액이 이미 저장된 메뉴의 메뉴명과 금액이 같을 경우 저장전임에도 저장된 상태의 글자색으로 나타난다.
  저장여부를 체크기 메뉴명과 금액의 일치로 체크하지 않고 별도의 상태를 관리하여 저장여부를 체크하도록 한다.

## 로그 : logs
{ "logs" : 
	{ (프로젝트) :
		{(logKey) : {
			"datetime" : string, // yyyymmddhhmiss
         "uid": string // 사용자 UID
         }
		}
	}
}

- 페이지 오픈시 로그를 남긴다.
- 프로젝트 : lunch-resv-next

# 목적 : 포장 예약 목록 공유기능을 추가
# 내용 :
- 포장예약 페이지 타이틀에 ... 아이콘 왼쪽에 공유 아이콘 추가
- 공유 아이콘 클릭시 수령하지 않은 메뉴 목록을 html형태로 작성하여 이미지로 변환 공유한다.(예약 및 선결제 공유와 동일한 기능)
- 포장 예약 목록 공유 양식
  "식당", "메뉴" 두 컬럼으로 구성하고 식당 하나에 메뉴가 여러개인 경우 식당을 row합치기하여 나타낸다.
  전체적인 html디자인은 `예약 및 선결제 공유`양식과 동일하게 가져간다.
  

# 포장 예약 목록 공유  
- `포장 예약 목록`타이틀 행의 가장 우측에 예약 날짜를 추가한다. 예약 날짜는 첫번째 예약 식당의 예약날짜로 나타낸다.
- 식당 간의 row선을 나타낸다.
- 식당은 좌측 정렬한다.


`예약 및 선결제 공유`의 경우 텍스트에 대해 아래쪽 여백을 추가하였다. 얼마를 추가하였나?


# 포장 예약 목록 공유
텍스트에 대해서만 margin-bottom: 14px씩 모두 추가한다.

# 식당 메뉴 페이지
`.`이 버튼 외곽선이나 밖으로 나타가 않고 우측 상단 안쪽으로 위치하도록 한다.
- 식당 버튼에 오늘부터 최근 한달(30일)사이에 방문 횟수를 `.`(빨간색) 으로 나타낸다. 
- `.`은 버튼 크기나 식당명에 영향을 미치지 않도록 절대 좌표로 나타낸다.
- `.`은 식당 버튼의 우측 상단에 방문 횟수만큼 출력한다.

